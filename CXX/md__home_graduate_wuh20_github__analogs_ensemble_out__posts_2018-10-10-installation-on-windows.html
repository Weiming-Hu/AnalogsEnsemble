<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AnalogEnsemble: 2018-10-10-installation-on-windows</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AnalogEnsemble
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">2018-10-10-installation-on-windows </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><hr/>
<p> layout: post title: How to Fix Compilation Failure on Windows tags:</p><ul>
<li>issue <h2>- tutorial </h2>
</li>
</ul>
<h2>Summary</h2>
<p>To install <code>RAnEn</code> on Windows, please check the following requirements:</p>
<ul>
<li>R version is greater than or equal to <code>3.3.0</code>;</li>
<li>The matching version of R tools is installed;</li>
</ul>
<h2>Details</h2>
<p>If you've got the following error on Windows when installing the <code>RAnEn</code> package:</p>
<div class="fragment"><div class="line">&gt; install.packages(&quot;https://github.com/Weiming-Hu/AnalogsEnsemble/raw/master/RAnalogs/releases/RAnEn_latest.tar.gz&quot;, repos = NULL)</div><div class="line">trying URL &#39;https://github.com/Weiming-Hu/AnalogsEnsemble/raw/master/RAnalogs/releases/RAnEn_latest.tar.gz&#39;</div><div class="line">Content type &#39;application/octet-stream&#39; length 114102 bytes (111 KB)</div><div class="line">downloaded 111 KB</div><div class="line"></div><div class="line">* installing *source* package &#39;RAnEn&#39; ...</div><div class="line"></div><div class="line">   **********************************************</div><div class="line">   WARNING: this package has a configure script</div><div class="line">         It probably needs manual configuration</div><div class="line">   **********************************************</div><div class="line"></div><div class="line"></div><div class="line">** libs</div><div class="line"></div><div class="line">*** arch - i386</div><div class="line">g++ -m32 -std=c++0x -I&quot;C:/Users/student/DOCUME~1/R/R-32~1.2/include&quot; -DNDEBUG    -I&quot;C:/Users/student/Documents/R/R-3.2.2/library/Rcpp/include&quot; -I&quot;C:/Users/student/Documents/R/R-3.2.2/library/BH/include&quot; -I&quot;d:/RCompile/r-compiling/local/local320/include&quot;  -fopenmp   -O2 -Wall  -mtune=core2 -c AnEn.cpp -o AnEn.o</div><div class="line">sh: g++: command not found</div><div class="line">make: *** [C:/Users/student/DOCUME~1/R/R-32~1.2/etc/i386/Makeconf:189: AnEn.o] Error 127</div><div class="line">Warning: running command &#39;make -f &quot;Makevars.win&quot; -f &quot;C:/Users/student/DOCUME~1/R/R-32~1.2/etc/i386/Makeconf&quot; -f &quot;C:/Users/student/DOCUME~1/R/R-32~1.2/share/make/winshlib.mk&quot; CXX=&#39;$(CXX1X) $(CXX1XSTD)&#39; CXXFLAGS=&#39;$(CXX1XFLAGS)&#39; CXXPICFLAGS=&#39;$(CXX1XPICFLAGS)&#39; SHLIB_LDFLAGS=&#39;$(SHLIB_CXX1XLDFLAGS)&#39; SHLIB_LD=&#39;$(SHLIB_CXX1XLD)&#39; SHLIB=&quot;RAnEn.dll&quot; OBJECTS=&quot;AnEn.o Analogs.o Array4D.o Forecasts.o Observations.o Parameters.o RcppExports.o Rinterface.o SimilarityMatrices.o StandardDeviation.o Stations.o Times.o&quot;&#39; had status 2</div><div class="line">ERROR: compilation failed for package &#39;RAnEn&#39;</div><div class="line">* removing &#39;C:/Users/student/Documents/R/R-3.2.2/library/RAnEn&#39;</div><div class="line">Warning in install.packages :</div><div class="line">  running command &#39;&quot;C:/Users/student/DOCUME~1/R/R-32~1.2/bin/x64/R&quot; CMD INSTALL -l &quot;C:\Users\student\Documents\R\R-3.2.2\library&quot; &quot;C:/Users/student/AppData/Local/Temp/Rtmpo7NEWg/downloaded_packages/RAnEn_latest.tar.gz&quot;&#39; had status 1</div><div class="line">Warning in install.packages :</div><div class="line">  installation of package ‘C:/Users/student/AppData/Local/Temp/Rtmpo7NEWg/downloaded_packages/RAnEn_latest.tar.gz’ had non-zero exit status</div></div><!-- fragment --><p>Two things you might want to check.</p>
<p><b>First, whether you have installed the correct version of <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a> that matches your <code>R</code> version.</b></p>
<p>Every time you open <code>R</code>, you will see your <code>R</code> version information. Alternatively, you can check your <code>R</code> version by running the following command in an <code>R</code> session:</p>
<div class="fragment"><div class="line">&gt; sessionInfo()</div><div class="line">R version 3.2.2 (2015-08-14)</div><div class="line">Platform: x86_64-w64-mingw32/x64 (64-bit)</div><div class="line">Running under: Windows 7 x64 (build 7601) Service Pack 1</div><div class="line"></div><div class="line">locale:</div><div class="line">[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252    LC_MONETARY=English_United States.1252 LC_NUMERIC=C                          </div><div class="line">[5] LC_TIME=English_United States.1252    </div><div class="line"></div><div class="line">attached base packages:</div><div class="line">[1] stats     graphics  grDevices utils     datasets  methods   base     </div><div class="line"></div><div class="line">loaded via a namespace (and not attached):</div><div class="line">[1] tools_3.2.2</div></div><!-- fragment --><p>For example, here I'm having <code>R</code> version <code>3.2.2</code>. However, the minimum <code>R</code> version requirement is <code>3.3.0</code>. Therefore, I decided to update to the current latest <code>R</code> version <code>3.5.1</code>. To update to a newer version, it is a good practice to manually delete the older version. For my case, my older <code>R</code> is at the default location, <code>C:\Program Files\R\R-3.2.2</code>. I executed the program <code>unins000.exe</code> in the folder to uninstall the older version. Then I can safely install the newer version without worrying about having multiple versions of R installed.</p>
<p>However, it looks like <code>RStudio</code> does not automatically detect the updated version of <code>R</code>. You can inspect which <code>R</code> is <code>RStudio</code> using by typing the following command in an R session:</p>
<div class="fragment"><div class="line">&gt; .libPaths()</div><div class="line">[1] &quot;C:/Users/student/Documents/R/R-3.2.2/library&quot;</div></div><!-- fragment --><p>Looks like in my case <code>RStudio</code> is still using another <code>R</code> that is installed in a non-conventional place. I went ahead and delete that R by running the uninstall program. Then when I reopen <code>RStudio</code>, it automatically finds the latest R that I've installed earlier.</p>
<p>If you check the <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools table</a>, I should be installing <code>Rtools35.exe</code> for compatibility reasons. Please install the matching version <code>Rtools</code> for your <code>R</code> and choose to add it to your <code>PATH</code> during the installation. I'll come back to this afterwards and this is very convenient and helpful. The above should resolve part of the problem.</p>
<p><b>Second, whether you have chosen to add the <code>Rtools</code> path to your system <code>PATH</code> when you were installing <code>Rtools</code>, and whether you have restarted your Windows in order for <code>PATH</code> modification to have effect.</b></p>
<p>Adding <code>Rtools</code> to your system <code>PATH</code> variable enables the system to find tools during execution. To check whether you have added the <code>Rtools</code> path to your system environment variable <code>PATH</code>, you need to open up the system environment variable dialogue (<em>Google it if you don't know how to find it. It should be straightforward.</em>). Your <code>Path</code> should contains something like below:</p>
<div class="fragment"><div class="line">C:\Rtools\bin;C:\Rtools\gcc-4.6.3\bin;C:\Rtools\bin;&lt;more paths&gt;</div></div><!-- fragment --><p>Finally, restart a R session and try installing the package again. If problems remains, please open a ticket.</p>
<p>Thank you.</p>
<p><a href="https://weiming.ddns.net">Weiming Hu</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
