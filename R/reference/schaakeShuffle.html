<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>RAnEn::schaakeShuffle — schaakeShuffle • RAnEn</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="RAnEn::schaakeShuffle — schaakeShuffle" />
<meta property="og:description" content="RAnEn::schaakeShuffle is a method to improve autocorrelation within ensemble
members in the spatial and temporal constructions by reordering the memebers." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RAnEn</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Weiming-Hu/AnalogsEnsemble">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>RAnEn::schaakeShuffle</h1>
    <small class="dont-index">Source: <a href='https://github.com/Weiming-Hu/AnalogsEnsemble/blob/master/R/schaakeShuffle.R'><code>R/schaakeShuffle.R</code></a></small>
    <div class="hidden name"><code>schaakeShuffle.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>RAnEn::schaakeShuffle is a method to improve autocorrelation within ensemble
members in the spatial and temporal constructions by reordering the memebers.</p>
    </div>

    <pre class="usage"><span class='fu'>schaakeShuffle</span>(<span class='no'>anen</span>, <span class='no'>obs.search</span>, <span class='kw'>show.progress</span> <span class='kw'>=</span> <span class='no'>F</span>, <span class='kw'>allow.na</span> <span class='kw'>=</span> <span class='no'>F</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>42</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>anen</th>
      <td><p>Analogs from <code>generateAnalogs.default</code>.
The dimensions should be (stations, test times, FLTs, members).</p></td>
    </tr>
    <tr>
      <th>obs.search</th>
      <td><p>The aligned observations with 4 dimensions (parameters, stations,
search times, FLTs). However, please make sure there is only 1 parameter. Observations
can be created from <code><a href='alignObservations.html'>alignObservations</a></code>.</p></td>
    </tr>
    <tr>
      <th>allow.na</th>
      <td><p>Whether to allow NA values to exist in selected days. Since the the N
search days are randomly chosen and there might be NA in the values. Typically, this
function will try to find a station index and a lead time index that does not have NA
values. But if it fails to do so, you have to consider what you need to do next: 1)
You can check why you have so many NA values in the observations, or 2) you can simply
allow sorting with NA, and then all the NA values be placed to the end.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>A random seed for reproducibility.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Although the absolute verification statistics of a particular ensemble (e.g.
RMSE, bias, and etc.) are not affected by reordering the members, the reordered
ensemble members preserve a better autocorrelation structure when inspected
one by one, for example, plotting the first member of all ensembles.</p>
<p>The algorithm is as follows:</p><pre>
-- For each test day
      Randomly choose N search days (N is the number of ensemble members)
      Establish the linking function B
      -- For each FLT
         -- For each station
            Reorder enmseble members using the linking function B
         -- End of stations
      -- End of FLTs
-- End of test days

</pre>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Sperati, Simone, Stefano Alessandrini, and Luca Delle Monache.
"Gridded probabilistic weather forecasts with an analog ensemble."
Quarterly Journal of the Royal Meteorological Society 143.708 (2017): 2874-2885.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
    </ul>

    <h2>Author</h2>
    <p>Guido Cervone <a href='mailto:cervone@psu.edu'>cervone@psu.edu</a></p>
<p>Martina Calovi <a href='mailto:mxc895@psu.edu'>mxc895@psu.edu</a></p>
<p>Weiming Hu <a href='mailto:weiming@psu.edu'>weiming@psu.edu</a></p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://weiming.ddns.net'>Weiming Hu</a>, <a href='http://geoinf.psu.edu/'>Guido Cervone</a>, <a href='http://geoinf.psu.edu/'>Laura Clemente-Harding</a>, <a href='http://geoinf.psu.edu/'>Martina Calovi</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


